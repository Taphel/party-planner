<% layout('layouts/boilerplate') %>

    <form action="/events/<%-event._id%>/items?_method=PATCH" method="POST" class="col-8 col-lg-3 mx-auto mt-5">

        <h1 class="text-center mb-5">Edit Items</h1>

        <div class="d-flex flex-column justify-content-between">

            <div id="foodsInput" class="d-flex flex-column align-items-center mb-3">

                <label class="form-label" for="foods[0]">Foods :</label>
    
                <% if (foods.length > 0) { %>
    
                    <% for( let i = 0; i < foods.length; i++) { %>
    
                        <input class="foodField form-control" type="text" name="foods[<%- i %>]"
                            maxlength="30" value="<%-foods[i]%>">
        
                    <% } %>
                 
                <% } else { %> 
    
                    <input class="foodField form-control" type="text" name="foods[0]"
                            maxlength="30">
    
                <% } %>
                
    
            </div>

            <div class="d-flex align-self-center justify-content-center col-12 mx-2 mb-3">

                <button type="button" id="foodPlusButton" class="btn btn-success col-3 mx-2">
                    +
                </button>

                <button type="button" id="foodMinusButton" class="btn btn-danger col-3 mx-2">
                    -
                </button>

            </div>


        </div>

        <div class="d-flex flex-column justify-content-between">

            <div id="drinksInput" class="d-flex flex-column align-items-center mb-3">

                <label class="form-label" for="drinks[0]">Drinks :</label>
    
                <% if (drinks.length > 0) { %>
    
                    <% for( let i = 0; i < drinks.length; i++) { %>
    
                        <input class="drinkField form-control" type="text" name="drinks[<%-i%>]"
                            maxlength="30" value="<%-drinks[i]%>">
        
                    <% } %>
                 
                <% } else { %> 
    
                    <input class="drinkField form-control" type="text" name="drinks[0]"
                            maxlength="30">
    
                <% } %>
    
            </div>

            <div class="d-flex align-self-center justify-content-center col-12 mx-2 mb-3">

                <button type="button" id="drinkPlusButton" class="btn btn-success col-3 mx-2">
                    +
                </button>

                <button type="button" id="drinkMinusButton" class="btn btn-danger col-3 mx-2">
                    -
                </button>

            </div>


        </div>

        <div class="d-flex flex-column justify-content-between">

            <div id="otherInput" class="d-flex flex-column align-items-center mb-3">

                <label class="form-label" for="other[0]">Other :</label>
    
                <% if (other.length > 0) { %>
    
                    <% for( let i = 0; i < other.length; i++) { %>
    
                        <input class="otherField form-control" type="text" name="other[<%-i%>]"
                            maxlength="30" value="<%-other[i]%>">
        
                    <% } %>
                 
                <% } else { %> 
    
                    <input class="otherField form-control" type="text" name="other[0]"
                            maxlength="30">
    
                <% } %>
    
            </div>

            <div class="d-flex align-self-center justify-content-center col-12 mx-2 mb-3">

                <button type="button" id="otherPlusButton" class="btn btn-success col-3 mx-2">
                    +
                </button>

                <button type="button" id="otherMinusButton" class="btn btn-danger col-3 mx-2">
                    -
                </button>

            </div>


        </div>       

        <input type="hidden" name="user" value="<%- session.userId %>">

        <div class="d-flex justify-content-center mx-auto mb-3 col-7">
            <button class="btn btn-outline-success col-12">Save Items</button>
        </div>

    </form>

    <script src="/js/dynamicForm.js">
    </script>